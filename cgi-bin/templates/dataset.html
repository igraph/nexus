$def with (ds, tags, meta, formats, papers)

<div class="title"><h2>$ds.name
$if openid.status():
    <span class="edit">
      <a href="/web/edit/$ds.id">[edit]</a>
      <a href="/web/check/$ds.id">[check]</a>
    </span>
</h2></div>

<div class="dataset">
<p class="datasettags2">
  $ds.vertices vertices, $ds.edges edges.
  Tags:
  $:", ".join(link_to_tag(tag) for tag in tags)
<p class="datasetdate2">$ds.date</p>

<h3>Download</h3>
<p>
$for k,f in dataformats.items():
  <a href="/api/dataset?id=${ds.id}&format=$k">${k} format</a> &ndash; 
  $formats[k].shortdesc,
  <a href="/api/format?id=$k&format=html">more...</a>
</p>

<h3>Description</h3>
<div class="datasetdescription">
$:markdown(ds.description)
</div>

<h3>Metadata</h3>
<dl class="metadata">
$for m in meta:
  <dt>$m.type.capitalize() attribute '$m.name'</dt>
  <dd>$m.description</dd>
</dl>

<h3>Publication(s)</h3>
$for p in papers:
  <p>$p.citation</p>

<h3>Licence</h3>
<p>$ds.licence_name</p>

</div>
